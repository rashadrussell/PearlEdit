!DOCTYPE html>
<html>
<head>
	<title>Layout Generator</title>
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.2.0/pure-min.css">
	<link rel='stylesheet' type='text/css' href='/style.css' />
</head>
<body>


<div id='wrapper' class='pure-g'>

	<div id='header' class='pure-u-1'>

		<h3 class='logo'>Layout Generator</h3>
		<select class='layout-selector'>
			<option value="">Layouts</option>
  			<option value="marketing">Marketing</option>
  			<option value="email">Email</option>
 			<option value="blog">Blog</option>
		</select>

	</div>

	<div id='content' class='pure-u-1'>
		<h1 class="choose-layout-banner">Choose Layout</h1>

		<iframe id="layout-iframe">
		</iframe>

	</div>

	<div id='footer' class='pure-u-1'>
	</div>

</div>

<!-- Templates -->
<script id="general-settings" type='text/generator-template'>
		
</script>
<script src="http://yui.yahooapis.com/3.10.3/build/yui/yui-min.js"></script>

<script>
	
	YUI().use('node', function(Y) {

			Y.one('select.layout-selector').on('change', function(e) {
				var layout = e.target.get('value'),
					path = '/layouts/' + layout,
					iframeDocument,
					iframeHeight;
					console.log(Y.one('.choose-layout-banner'));
				Y.one('.choose-layout-banner').setStyle('display', 'none');
				Y.one('#layout-iframe').setAttribute('src', path);
			});

			Y.one('iframe').after('load', function() {
				var iframe = Y.one('#layout-iframe').get('contentWindow').get('document');
				console.log(iframe);
				Y.one('iframe').setStyles({'backgroundColor': '#fff','height': iframe.get('height')});
			});


	});

</script>

</body>
</html>