<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>JS Bin</title>
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.2.1/grids-min.css">
  <script src="http://yui.yahooapis.com/3.11.0/build/yui/yui-min.js"></script>

  <style>
    body {
  margin: 0;
  padding: 0;
}
.group {
  border: 1px solid black;
  width: 90%;
  height: 100px;
  margin: 0.5em;
}

.child {
  border: 1px solid blue;
  display: inline-block;
  width: 50px;
  height: 50px;
  position: relative;
  padding: 5px;
  font-family: sans-serif;
}
.child-a { 
  border-color: red; 
  background: hsla(0, 50%, 50%, 0.3);
}
.child-b { 
  border-color: blue; 
  background: hsla(240, 50%, 50%, 0.3);
}
.child-c {
  border-color: green;
  background: hsla(120, 50%, 50%, 0.3);
}
  </style>
  
</head>
<body>
  <div class="bd">
    <div class="group pure-g">
      <div class="child child-a pure-u">Child A</div>
      <div class="child child-b pure-u">Child B</div>
      <div class="child child-c pure-u">Child C</div>
    </div>
    <div class="group pure-g">
      <div class="child child-a pure-u">Child A</div>
      <div class="child child-b pure-u">Child B</div>
      <div class="child child-c pure-u">Child C</div>
    </div>
    <div class="group pure-g">
      <div class="child child-a pure-u">Child A</div>
      <div class="child child-b pure-u">Child B</div>
      <div class="child child-c pure-u">Child C</div>
    </div>
    <div class="group pure-g">
      <div class="child child-a pure-u">Child A</div>
      <div class="child child-b pure-u">Child B</div>
      <div class="child child-c pure-u">Child C</div>
    </div>
  </div>

  <script>

  YUI({
    combine: false,
    filter: 'raw'
}).use('dd', 'base-build', function (Y) {

    Y.Plugin.DDConstrainedToAncestor = Y.Base.create('con', Y.Plugin.DDConstrained, [], {}, {});


    var DDC = Y.Base.create('ddc', Y.Plugin.DDConstrained, [], {
        /**
         * Standardizes the 'constraint' attribute
         * @private
         * @method _getConstraint
         */
        _getConstraint: function () {
            var con = this.get('constrain'),
                ancestorSelector = this.get('constrain2ancestor'),
                ancestorNode = null,
                g = this.get('gutter'),
                region;

            if (con) {
                if (con instanceof Y.Node) {
                    if (!this._regionCache) {
                        this._eventHandles.push(Y.on('resize', Y.bind(this._cacheRegion, this), Y.config.win));
                        this._cacheRegion();
                    }
                    region = Y.clone(this._regionCache);
                    if (!this.get('cacheRegion')) {
                        this.resetCache();
                    }
                } else if (Y.Lang.isObject(con)) {
                    region = Y.clone(con);
                }
            }
            if (!con && ancestorSelector) {
                con = 'ancestor';
                ancestorNode = this.get('host').get('dragNode').ancestor(ancestorSelector);
                if (ancestorNode) {
                    region = ancestorNode.get('region');
                }
            }


            if (!con || !region) {
                con = 'view';
            }
            if (con === 'view') {
                region = this.get('host').get('dragNode').get('viewportRegion');
            }

            Y.Object.each(g, function (i, n) {
                if ((n === 'right') || (n === 'bottom')) {
                    region[n] -= i;
                } else {
                    region[n] += i;
                }
            });
            return region;
        }
    }, {
        NAME: 'ddc',
        NS: 'con',
        ATTRS: {
            constrain2ancestor: {
                value: null // any valid ancestor selector
            }
        }
    });


    var dd = new Y.DD.Delegate({
        container: '.bd',
        nodes: '.child',
        dragConfig: {
            plugins: [{
                fn: DDC,
                cfg: {
                    constrain: null,
                    constrain2ancestor: '.group'
                }
            }]
        }
    });

});


  </script>
</body>
</html>